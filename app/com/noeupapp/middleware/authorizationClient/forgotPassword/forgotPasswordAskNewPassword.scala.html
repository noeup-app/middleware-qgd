@import com.noeupapp.middleware.authorizationClient.forgotPassword.ForgotPasswordAskNewPasswordForm
@(signInForm: Form[ForgotPasswordAskNewPasswordForm.Data], token: String)(implicit request: RequestHeader, messages: Messages)

@import b3.inline.fieldConstructor

@com.noeupapp.middleware.views.html.main(Messages("forgot.password.title")) {

@*
    <div class="signin-header">
        <section class="logo text-center">
            <h1><a href="/" class="ng-binding"><img class="logo_qgd" src="@com.noeupapp.middleware.controllers.routes.Assets.versioned("images/qgd.png")" alt="Logo qgd"></a></h1>
        </section>
    </div>
*@

    <div class="container">
    @helper.form(action = com.noeupapp.middleware.authorizationClient.forgotPassword.routes.ForgotPasswords.forgotPasswordAskNewPassword(token)) {
        @* @helper.CSRF.formField *@
        <div class="row">
            <div class="col s12 l3"></div>
            <div class="col s12 l6">
                <div class="row card-panel logCard">
                    <div class="col s12 center-align">
                        <h4>Forgot password</h4>
                        <h5>by noeup'App</h5>
                        @request.flash.get("error").map { msg =>
                            <div class="card red lighten-2">
                                <div class="card-content">
                                    @msg
                                </div>
                            </div>
                        }
                        @request.flash.get("info").map { msg =>
                            <div class="card green lighten-4">
                                <div class="card-content">
                                    @msg
                                </div>
                            </div>
                        }

                        @if(signInForm.hasErrors) {
                            <div class="card red lighten-2">
                                <div class="card-content">
                                    An error occurred. It may be because the email is not correct.
                                </div>
                            </div>
                        }
                    </div>
                    <div class="col s12 divider mtb10"></div>
                    <div class="input-field col s12">
                        <input id="password" name="password" type="password" class="validate">
                        <label for="password">Nouveau password</label>
                    </div>
                    <div class="input-field col s12">
                        <input id="passwordConfirm" name="passwordConfirm" type="password" class="validate">
                        <label for="passwordConfirm">Confirmer le nouveau mot de passe</label>
                    </div>
                    <div class="col s12 center-align">
                        <div class="row">
                            <div class="col s12">
                                <input type="submit" class="mtb10 waves-effect waves-light btn" value="Valider">
                            </div>

                            <div class="col s12">
                                <div class="divider mtb10"></div>
                            </div>
                            <a href="@com.noeupapp.middleware.authorizationClient.login.routes.Logins.loginAction()" class="mtb10 waves-effect waves-light btn">Retour au login</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col s12 l3"></div>
        </div>
    }
    </div>


}
